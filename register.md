# REGISTERS

## register 란?
* 일종의 문자열 저장 공간.
* `⌘c`, `⌘v` 로 사용하는 클립보드 또한 레지스터의 일종. (WINDOWS 라면 `CTRL+c`, `CTRL+v`)
* 50 개가 넘는 레지스터가 용도별로 있으므로 그때그때 필요한 값을 입력해가며 사용하면 된다.
* 레지스터가 있으므로 VIM 외의 클립보드 확장 Application 을 사용하지 않아도 된다.

## register 보는 방법
* `:reg` 또는 `:registers` 를 입력하면 된다.

    > `:reg` 를 실행한 결과 출력된 리스트에서 `^J` 는 줄바꿈, `^I` 는 탭을 의미한다.

## register 사용 방법
* NORMAL, VISUAL 모드에서 복사/삭제
    ```
    선택액션 복사/삭제액션
    선택액션 " 레지스터기호 복사/삭제액션
    ```

* INSERT 모드일 때 붙여넣기, `:`command line 에 붙여넣기
    ```
    CTRL+r 레지스터기호
    CTRL+r CTRL+r 레지스터기호
    CTRL+r CTRL+o 레지스터기호
    CTRL+r CTRL+p 레지스터기호
    ```
    * CTRL+r 사용법은 [INSERT 모드 입력키 설명](./insert_keys.md) 참고.

## register 목록

| 레지스터       | 타입                | 설명                                                        |
| ---------      | ----------------    | :----------------------------------------------             |
| `""`           | unnamed             | 마지막으로 삭제했거나 복사한 문자열이 들어간다.             |
| `"0` 부터 `"9` | numbered            | "" 레지스터의 히스토리. 숫자가 클 수록 오래된 값들이다.     |
| `"a` 부터 `"z` | named               | 자동 입력이 없고 사용자가 자유롭게 사용할 수 있는 레지스터. |
| `"A` 부터 `"Z` | named               | 자동 입력이 없고 사용자가 자유롭게 사용할 수 있는 레지스터. |
| `"-`           | small delete        | 한 줄 미만의 삭제가 이루어진 경우 "- 레지스터에 입력된다.   |
| `"*` 과 `"+`   | selection and drop  | gui 클립보드 레지스터. (다른 프로그램의 `⌘C`)    |
| `".`           | read-only           | 가장 최근에 입력된 문자열이 입력되는 레지스터.              |
| `":`           | read-only           | 가장 최근에 입력한 command line 명령어가 입력되는 레지스터. |
| `"%`           | read-only           | 현재 편집중인 파일의 이름이 입력되어 있는 레지스터.         |
| `"/`           | last search pattern | 가장 최근의 검색어가 입력되는 레지스터.                     |
| `"=`           | expression register | 가장 최근에 사용한 expression 이 입력되는 레지스터.         |

## register 사용 예제 (기초)
* NORMAL 모드

| 키               | 설명                                                                                                       |
| ---------------- | :----------------------------------------------                                                            |
| `yy`             | 현재 라인을 `""` 레지스터와 `"0` 레지스터에 입력한다. 기존 `"0` 레지스터의 값은 `"1` 로 밀려난다.          |
| `dd`             | 현재 라인을 삭제하고 `""` 레지스터와 `"0` 레지스터에 입력한다. 기존 `"0` 레지스터의 값은 `"1` 로 밀려난다. |
| `"+yy`           | 현재 라인을 클립보드(`"+` 레지스터)에 입력한다.                                                            |
| `"+p`            | 클립보드(`"+`레지스터)의 내용을 붙여넣기한다.                                                              |
| `"2p`            | `"2` 레지스터의 내용을 붙여넣기한다.                                                                       |
| `"%p`            | `"%` 레지스터의 내용(현재 편집중인 파일의 이름)을 붙여넣기한다.                                            |
| `:let @+='test'` | `"+` 레지스터에 test 라는 문자열을 입력한다.                                                               |
| `:let @a=@+`     | `"a` 레지스터에 `"+` 레지스터의 값을 입력한다.                                                             |
| `:@:`            | 가장 최근에 사용한 command line 명령어를 다시 실행한다.                                                    |

* INSERT 모드

| 키                               | 설명                                                                           |
| ----------                       | :----------------------------------------------                                |
| `CTRL+r +`                       | 클립보드(`"+`레지스터)의 내용을 붙여넣기한다.                                  |
| `CTRL+r 2`                       | `"2` 레지스터의 내용을 붙여넣기한다.                                           |
| `CTRL+r %`                       | `"%` 레지스터의 내용(현재 편집중인 파일명)을 붙여넣기한다.                     |
| `CTRL+r =7*8`                    | expression 레지스터를 사용해, 56을 입력한다.                                   |
| `CTRL+r =@a`                     | expression 레지스터를 사용해, `"a`레지스터의 값을 입력한다.                    |

* VISUAL 모드

| 키        | 설명                                              |
| --------- | :----------------------------------------------   |
| `"+y`     | 선택한 영역을 클립보드(`"+` 레지스터)에 입력한다. |
| `"cy`     | 선택한 영역을 `"c` 레지스터에 입력한다.           |

## register 사용 예제 (응용)

* NORMAL 모드

| 키                      | 설명                                                                                  |
| ---------               | :----------------------------------------------                                       |
| `vi{"7y`                | 현재 커서가 위치하고 있는 { } 영역 내의 모든 문자열을 7 레지스터에 입력한다.          |
| `ggVG"by`               | 현재 파일 전체를 b 레지스터에 입력한다.                                               |
| `%v%y`                  | 현재 커서가 있는 코드를 감싼가장 가까운 괄호 내 모든 문자열을 "" 레지스터에 입력한다. |
| `:let @+=expand('%:p')` | "+ 레지스터에 현재 파일의 경로를 입력한다.                                            |
| `:let @a=@b.@c.'123'`   | "b, "c 레지스터와 '123' 이란 문자열을 concat 하여 "a 레지스터에 입력한다.             |
| `:let @a=substitute(@a,'d','a','g')` | "a 레지스터의 문자열 중 모든 d 를 a 로 replace 한다. |

* INSERT 모드

| 키                               | 설명                                                                                |
| ---------                        | :----------------------------------------------                                     |
| `CTRL+r =@a.@b`                  | `"a`와 `"b`레지스터의 값을 concat 하여 입력한다.      |
| `CTRL+r =@a.'123'.@b`            | `"a`, 문자열 'test', `"b`레지스터의 값을 concat 하여 입력한다.      |
| `CTRL+r =system('cat filename')` | `filename`파일 내용을 붙여넣는다.                     |

## 참고 자료
* http://vimdoc.sourceforge.net/htmldoc/change.html#registers
